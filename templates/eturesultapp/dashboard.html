{% extends "eturesultapp/base.html" %}
{% load static %}

{% block title %}Dashboard - ETU Results Management System{% endblock %}

{% block extra_css %}
<style>
    .dashboard-card {
        transition: transform 0.2s;
    }
    .dashboard-card:hover {
        transform: translateY(-5px);
    }
    .stat-card {
        border-radius: 15px;
        border: none;
    }
    .stat-icon {
        width: 48px;
        height: 48px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <!-- Logo at Top -->
    <div class="row mb-4 justify-content-center">
        
    </div>

    <!-- Welcome Section -->
    <div class="row mb-4">
        <div class="col">
            <h1 class="h3">Welcome, {{ user.get_full_name|default:user.username }}</h1>
            <p class="text-muted">Here's what's happening in your ETU Results Management System</p>
        </div>
    </div>

    <!-- Stats Cards -->
    <div class="row g-4 mb-4">
        <div class="col-md-6 col-xl-3">
            <div class="card stat-card bg-primary text-white h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="stat-icon bg-white text-primary me-3">
                            <i class="fas fa-user-graduate fa-fw"></i>
                        </div>
                        <div>
                            <h6 class="card-title mb-0">Total Students</h6>
                            <h2 class="mt-2 mb-0">{{ total_students }}</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-xl-3">
            <div class="card stat-card bg-success text-white h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="stat-icon bg-white text-success me-3">
                            <i class="fas fa-book fa-fw"></i>
                        </div>
                        <div>
                            <h6 class="card-title mb-0">Active Courses</h6>
                            <h2 class="mt-2 mb-0">{{ total_courses }}</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-xl-3">
            <div class="card stat-card bg-info text-white h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="stat-icon bg-white text-info me-3">
                            <i class="fas fa-chart-line fa-fw"></i>
                        </div>
                        <div>
                            <h6 class="card-title mb-0">Results Recorded</h6>
                            <h2 class="mt-2 mb-0">{{ total_results }}</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-xl-3">
            <div class="card stat-card bg-warning text-white h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="stat-icon bg-white text-warning me-3">
                            <i class="fas fa-calendar fa-fw"></i>
                        </div>
                        <div>
                            <h6 class="card-title mb-0">Current Semester</h6>
                            <h2 class="mt-2 mb-0">{{ current_semester }}</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Institution / Project Info + Student CTA -->
    <div class="row mb-4">
        <div class="col-lg-8">
            <div class="card h-100">
                <div class="card-header">
                    <h5 class="card-title mb-0">About & Project Summary</h5>
                </div>
                <div class="card-body">
                    <h6>About the Institution</h6>
                    <p class="text-muted">Ethiopian Technical University (ETU) is committed to delivering high-quality education and maintaining accurate academic records. This Results Management System is built to help streamline result recording and reporting across departments.</p>

                    <h6 class="mt-3">Project Plan / Goal</h6>
                    <p class="text-muted">The project goal is to provide an intuitive, reliable results management platform: fast result entry, exportable reports, role-based access and an audit trail for academic records.</p>

                    <h6 class="mt-3">New Improvements</h6>
                    <p class="text-muted">Planned improvements include bulk result imports, CSV/Excel export templates, improved filtering for large cohorts, and an enhanced mobile-friendly UI.</p>

                    <h6 class="mt-3">Student Result Management System (SRMS)</h6>
                    <p class="text-muted">SRMS allows lecturers and administrators to manage courses and record student grades, while students can view and download their results after registering and activating their accounts.</p>
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <div class="card h-100 text-center">
                <div class="card-header">
                    <h5 class="card-title mb-0">Are you a student?</h5>
                </div>
                <div class="card-body d-flex flex-column justify-content-center">
                    <p class="text-muted">If you are a student, please register or log in to access your personal result dashboard and download your records.</p>
                    <div class="d-grid gap-2">
                        <a href="{% url 'eturesultapp:register_student' %}" class="btn btn-primary">Register</a>
                        <a href="{% url 'login' %}" class="btn btn-outline-secondary">Login</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}